{% if include.type == "gif" %}
  <div class="media-container gif-container">
    <img src="{{ include.url | relative_url }}" 
         alt="{{ include.alt | default: 'Animation' }}"
         class="responsive-media"
         loading="lazy">
  </div>

{% elsif include.type == "image" %}
  <div class="media-container image-container">
    <img src="{{ include.url | relative_url }}" 
         alt="{{ include.alt | default: 'Image' }}"
         class="responsive-media"
         loading="lazy">
    {% if include.caption %}<p class="media-caption">{{ include.caption }}</p>{% endif %}
  </div>

{% elsif include.type == "video" %}
  <div class="media-container video-container">
    {% if include.url contains "youtube.com" or include.url contains "youtu.be" %}
      <iframe width="100%" height="500" src="{{ include.url }}" 
              frameborder="0" allowfullscreen loading="lazy"></iframe>
    {% else %}
      <video width="100%" height="auto" controls class="responsive-media">
        <source src="{{ site.baseurl }}{{ include.url }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    {% endif %}
  </div>

{% elsif include.type == "audio" %}
  <div class="media-container audio-container">
    <audio controls style="width: 100%;">
      <source src="{{ site.baseurl }}{{ include.url }}" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
  </div>

{% elsif include.type == "model3d" %}
  <div class="media-container model3d-container">
    <model-viewer 
      src="{{ site.baseurl }}{{ include.url }}"
      alt="{{ include.alt | default: '3D Model' }}"
      auto-rotate
      camera-controls
      style="width: 100%; height: 500px;">
    </model-viewer>
  </div>
{% endif %}